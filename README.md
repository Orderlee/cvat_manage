# π“¦ CVAT Manage: μ–΄λ…Έν…μ΄μ… μλ™ν™” λ° λ¶„μ„ μ‹μ¤ν…

CVAT Manageλ” CVAT ν”λ«νΌ κΈ°λ°μ μ–΄λ…Έν…μ΄μ… κ΄€λ¦¬, ν‚¤ν¬μΈνΈ κΈ°λ° λΌλ²¨ μλ™ μƒμ„±, κ²°κ³Ό λ¶„μ„ λ° μ‹κ°ν™”λ¥Ό μλ™ν™”ν•λ” ν†µν•© λ„κµ¬μ…λ‹λ‹¤. μ΄ ν”„λ΅μ νΈλ” μ–΄λ…Έν…μ΄ν„°μ λ„λ½ ν”„λ μ„ κ΄€λ¦¬, λΌλ²¨ μ •μ μλ™ν™”, μΌμΌ λ¦¬ν¬νΈ μƒμ„± λ° μ‹κ°ν™”λ¥Ό ν¬ν•¨ν• μ‘μ—… νλ¦„μ„ μλ™ν™”ν•©λ‹λ‹¤.

---

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
β”β”€β”€ Person.svg                  # ν‚¤ν¬μΈνΈ λΌλ²¨ μ •μμ© SVG
β”β”€β”€ README.md
β”β”€β”€ csv/                        # μ‘μ—…λ³„ λ¦¬ν¬νΈ CSV νμΌ
β”β”€β”€ json/                       # λΌλ²¨ μ •μ JSON
β”β”€β”€ logs/                       # μ‘μ—… λ΅κ·Έ λ° λ„λ½ λ΅κ·Έ
β”β”€β”€ result/                     # λ‚΄λ³΄λ‚Έ κ²°κ³Ό λ° λ΅κ·Έ
β”β”€β”€ run_keypoint.sh             # ν‚¤ν¬μΈνΈ μ „μ© μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”β”€β”€ run_main.sh                 # μ „μ²΄ μ›ν¬ν”λ΅ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”β”€β”€ src/
β”‚   β””β”€β”€ cvat_manage/
β”‚       β”β”€β”€ analytics/          # λ¶„μ„ λ° λ¦¬ν¬νΈ λ°μ†΅
β”‚       β”‚   β””β”€β”€ send_report.py
β”‚       β”β”€β”€ core/               # ν•µμ‹¬ κΈ°λ¥ κµ¬ν„
β”‚       β”‚   β”β”€β”€ export.py
β”‚       β”‚   β”β”€β”€ import_keypoint.py
β”‚       β”‚   β”β”€β”€ import_ops.py
β”‚       β”‚   β”β”€β”€ move_exported_file.py
β”‚       β”‚   β””β”€β”€ omission.py
β”‚       β”β”€β”€ main.py             # μ „μ²΄ μλ™ν™” μ›ν¬ν”λ΅
β”‚       β””β”€β”€ utils/
β”‚           β””β”€β”€ imgae_extract.py  # YOLO κΈ°λ° ν”„λ μ„ μ¶”μ¶
β””β”€β”€ visualize/                  # μ‹κ°ν™” κ²°κ³Όλ¬Ό PNG
```

---

## π”§ μ£Όμ” κΈ°λ¥

### 1. CVAT μ‘μ—… λ¶„μ„ λ° λ„λ½ κ°μ§€
- `omission.py`:
  - CVAT APIλ¥Ό ν†µν•΄ λ¨λ“  μ‘μ—…(Job)μ„ μμ§‘
  - μ–΄λ…Έν…μ΄μ… λ„λ½ ν”„λ μ„ λ° λΌλ²¨ μλ‰, μ΄μ λ“± ν†µκ³„ κ³„μ‚°
  - μ‚¬μ©μλ³„ λ„λ½λ¥  κ³„μ‚° λ° CSV μ €μ¥

### 2. λ¦¬ν¬νΈ μƒμ„± λ° μ‹κ°ν™”
- `send_report.py`:
  - μµκ·Ό 5μΌκ°„ μ–΄λ…Έν…μ΄μ… ν†µκ³„ κΈ°λ° κ·Έλν”„ μλ™ μƒμ„±
  - μ‚¬μ©μλ³„/μΌμλ³„ ν”„λ μ„ μ λ° λΌλ²¨ μ μ‹κ°ν™”
  - Microsoft Graph APIλ¥Ό ν†µν• μ΄λ©”μΌ λ°μ†΅ κΈ°λ¥ ν¬ν•¨

### 3. μ–΄λ…Έν…μ΄μ… κ²°κ³Ό μλ™ Export λ° μ΄λ™
- `export.py`:
  - μΉμΈλ μ‘μ—…μ„ κΈ°λ°μΌλ΅ λΌλ²¨ κ²°κ³Ό μλ™ λ‹¤μ΄λ΅λ“ (CLI ν™μ©)
  - JSONλ§ ν¬ν•¨λ ZIP νμΌλ΅ λ³€ν™ν•μ—¬ κ²°κ³Ό κ΄€λ¦¬
- `move_exported_file.py`:
  - νμΌλ… κΈ°λ°μΌλ΅ λ©μ  ν΄λ” νƒμƒ‰
  - `meta.yaml` μλ™ μƒμ„± λ° μ••μ¶• ν•΄μ  μ²λ¦¬

### 4. ν‚¤ν¬μΈνΈ λΌλ²¨ μλ™ μ •μ λ° μ‘μ—… μƒμ„±
- `import_keypoint.py`:
  - `Person.svg`λ΅λ¶€ν„° sublabel μ •μ μλ™ μƒμ„±
  - ν”„λ΅μ νΈ λ° λΌλ²¨ μ„λ²„ λ™κΈ°ν™”, μ‘μ—… μƒμ„± λ° μ‚¬μ©μ ν• λ‹ΉκΉμ§€ μλ™ν™”
  - SVG λ‚΄ `data-label-id` λ™κΈ°ν™” λ° JSON raw ν•„λ“ μ„λ²„ ν¨μΉ ν¬ν•¨

### 5. YOLO κΈ°λ° ν”„λ μ„ μ¶”μ¶
- `imgae_extract.py`:
  - YOLOv8μ„ ν™μ©ν• "person" νƒμ§€ κΈ°λ° ν”„λ μ„ μ¶”μ¶
  - 2μ΄ κ°„κ²© μƒν”λ§ λ° GPU λ³‘λ ¬ μ²λ¦¬
  - νƒμ§€λ ν”„λ μ„μ„ μΉ΄ν…κ³ λ¦¬λ³„λ΅ μ €μ¥ λ° ZIP μ••μ¶• μν–‰

---

## β–¶ μ‹¤ν–‰ λ°©λ²•

### μ „μ²΄ μλ™ν™” μ‹¤ν–‰
```bash
bash run_main.sh
```

### ν‚¤ν¬μΈνΈ λΌλ²¨ κΈ°λ° ν”„λ΅μ νΈ μƒμ„± λ° μ‘μ—… λ“±λ΅
```bash
bash run_keypoint.sh
```

---

## β… μ£Όμ” κ²°κ³Όλ¬Ό

- `csv/*.csv`: μ‘μ—…λ³„ μ–΄λ…Έν…μ΄μ… ν†µκ³„
- `logs/*.log`: λ„λ½ ν”„λ μ„ λ΅κ·Έ
- `visualize/*.png`: μ‚¬μ©μλ³„ λΌλ²¨ λ° ν”„λ μ„ μ μ‹κ°ν™”
- `result/*`: exportλ κ²°κ³Ό λ° μ΄λ™ μ΄λ ¥

---

## π“ ν™κ²½μ„¤μ •

`.env` νμΌμ— λ‹¤μ ν•­λ© ν•„μ”:

```dotenv
CVAT_URL=https://your.cvat.server
TOKEN=your_token
EMAIL_SENDER=your_email@domain.com
EMAIL_RECEIVER=receiver@domain.com
RESULT_DIR=...
DEST_DIR=...
INPUT_ROOT=...
OUTPUT_ROOT=...
```

---

## π§© μμ΅΄μ„±

- Python 3.9+
- ν¨ν‚¤μ§€: `requests`, `matplotlib`, `pandas`, `tqdm`, `ultralytics`, `python-dotenv`, `seaborn`, `koreanize_matplotlib`, `msal`, `BeautifulSoup4`
- μ™Έλ¶€ λ„κµ¬: `cvat-cli`, `YOLOv8`